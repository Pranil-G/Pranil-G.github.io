<!doctype html>
<html>
  <head><meta charset="utf-8"><title>Bridge probe</title></head>
  <body>
    <h2>Bridge probe</h2>
    <pre id="out">waiting...</pre>
    <script>
      function show(msg){ document.getElementById('out').textContent = msg; }
      function tryBridge() {
        try {
          if (window.appJsBridge && typeof window.appJsBridge.callApi === 'function') {
            // Call a benign method that exists in BrowserPrivateJsObject (adjust name if needed)
            window.appJsBridge.callApi('BrowserPriv.getUserAgent', {}, function(resp){
              show('bridge returned: ' + JSON.stringify(resp));
            }, function(err){
              show('bridge error: ' + JSON.stringify(err));
            });
          } else {
            show('bridge not present (window.appJsBridge missing).');
          }
        } catch (e) {
          show('exception: ' + e);
        }
      }
      window.addEventListener('load', tryBridge);
    </script>
  </body>
</html>
